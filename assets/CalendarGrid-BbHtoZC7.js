import{j as e,r as R}from"./vendor-query-DyA9aSKS.js";import{C as F}from"./chevron-left-CCyALq8O.js";import{C as K}from"./chevron-right-zJVhHKgv.js";import{C as E}from"./circle-CS2rYyYr.js";import{c as L,T as Y}from"./index-DTun-RSg.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],_=L("moon",A);function k(...t){return t.filter(Boolean).join(" ")}function I(t){return t.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function S({onClick:t,label:s,children:n,tone:d="neutral",disabled:l}){const r={neutral:"bg-background border-border text-foreground hover:bg-muted",dark:"bg-foreground border-foreground text-background hover:opacity-90",sky:"bg-primary/10 border-primary/30 text-primary hover:bg-primary/20"};return e.jsxs("button",{type:"button",onClick:t,disabled:l,className:k("inline-flex items-center justify-center rounded-2xl border p-2 transition",r[d],l&&"opacity-50 cursor-not-allowed hover:bg-background"),"aria-label":s,title:s,children:[n,e.jsx("span",{className:"sr-only",children:s})]})}function Q({monthCursor:t,selectedDayStatus:s,onPrevMonth:n,onNextMonth:d,onJumpToday:l}){return e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-5 py-3 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{onClick:n,label:"Mois précédent",children:e.jsx(F,{className:"h-5 w-5"})}),e.jsx(S,{onClick:d,label:"Mois suivant",children:e.jsx(K,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"min-w-0 text-center",children:[e.jsx("div",{className:"text-base font-semibold text-foreground capitalize truncate",children:I(t)}),e.jsx("div",{className:"mt-1 flex items-center justify-center gap-1",children:s.total>0?s.slots.filter(r=>r.expected).map(r=>e.jsx("span",{className:k("h-1.5 w-1.5 rounded-full",r.completed?"bg-status-success":r.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")},r.slotKey)):e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"repos"})})]}),e.jsx(S,{onClick:l,label:"Aller à aujourd'hui",tone:"neutral",children:e.jsx(E,{className:"h-5 w-5"})})]})}function h(...t){return t.filter(Boolean).join(" ")}function T(t){const s=n=>String(n).padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`}const B=R.memo(function({date:s,inMonth:n,isToday:d,isSelected:l,isFocused:r,status:u,strengthAssigned:m,hasCompetition:g,hasAbsence:x,onClick:j,onKeyDown:c}){const{total:a,slots:o}=u,p=a===0,f=o.filter(i=>i.expected),y=f.length>0&&f.every(i=>i.absent),b=a>0&&u.completed===a&&!y,N=x?"bg-muted-foreground/15 dark:bg-muted-foreground/25":g?"bg-amber-50 dark:bg-amber-950/30":p?"bg-muted/30":b?"bg-status-success/10":"bg-card",v=x?"border-muted-foreground/20":g?"border-amber-200 dark:border-amber-900/40":"border-border",D=l?"ring-2 ring-primary/30":"",C=d&&!l?"ring-2 ring-primary/50":"",$=r?"ring-2 ring-primary":"",M=o.find(i=>i.slotKey==="AM"),w=o.find(i=>i.slotKey==="PM");return e.jsx("button",{type:"button",onClick:j,onKeyDown:c,tabIndex:r?0:-1,"data-calendar-cell":"true",className:h("aspect-square min-w-0 rounded-2xl border p-1 transition",N,v,!n&&"opacity-40","hover:shadow-sm focus:outline-none",D,C,$),"aria-label":`${T(s)} — ${p?"Repos":`${u.completed}/${a}`}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:h("text-[12px] font-semibold",x?"text-muted-foreground":"text-foreground"),children:s.getDate()}),g?e.jsx(Y,{className:"h-3 w-3 text-amber-500"}):e.jsx("div",{className:"h-[14px] w-[14px]"})]}),e.jsx("div",{className:"flex items-center justify-end gap-1",children:p&&!m?e.jsx(_,{className:"h-3 w-3 text-muted-foreground/40"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-6",children:e.jsxs("div",{className:"flex gap-1",children:[M?.expected?e.jsx("span",{className:h("h-1.5 flex-1 rounded-full",M.completed?"bg-status-success":M.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")}):e.jsx("span",{className:"flex-1"}),w?.expected?e.jsx("span",{className:h("h-1.5 flex-1 rounded-full",w.completed?"bg-status-success":w.absent?"bg-muted-foreground/15":"bg-muted-foreground/30")}):e.jsx("span",{className:"flex-1"})]})}),m?e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-orange-400 shrink-0"}):null]})})]})})}),O=["L","M","M","J","V","S","D"],H=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"];function J(t){const s=n=>String(n).padStart(2,"0");return`${t.getFullYear()}-${s(t.getMonth()+1)}-${s(t.getDate())}`}function P(t,s){return t.getFullYear()===s.getFullYear()&&t.getMonth()===s.getMonth()&&t.getDate()===s.getDate()}function U({monthCursor:t,gridDates:s,completionByISO:n,strengthByISO:d,competitionDates:l,absenceDates:r,selectedISO:u,selectedDayIndex:m,today:g,onDayClick:x,onKeyDown:j}){return e.jsx("div",{className:"p-3 sm:p-5",children:e.jsxs("div",{className:"grid grid-cols-7 gap-1.5 sm:gap-2",children:[O.map((c,a)=>e.jsxs("div",{className:"px-0.5 pb-1 text-[10px] font-semibold text-muted-foreground text-center",children:[e.jsx("span",{className:"sm:hidden",children:c}),e.jsx("span",{className:"hidden sm:inline",children:H[a]})]},c+a)),s.map((c,a)=>{const o=J(c),p=c.getMonth()===t.getMonth(),f=o===u,y=n[o]||{completed:0,total:2,slots:[{slotKey:"AM",expected:!0,completed:!1,absent:!1},{slotKey:"PM",expected:!0,completed:!1,absent:!1}]},b=P(c,g),N=m===a||m===null&&b;return e.jsx(B,{date:c,inMonth:p,isToday:b,isSelected:f,isFocused:N,status:y,strengthAssigned:d?.[o],hasCompetition:l?.has(o),hasAbsence:r?.has(o),onClick:()=>x(o),onKeyDown:v=>j(v,a)},o)})]})})}export{Q as C,_ as M,U as a};
