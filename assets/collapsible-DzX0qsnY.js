import{r as n,a as A,j as C}from"./vendor-query-DyA9aSKS.js";import{v as _,w as T,O as $,x as h,V as D,y as M}from"./index-B_cXFuxW.js";function k(e,s,{checkForDefaultPrevented:o=!0}={}){return function(t){if(e?.(t),o===!1||!t.defaultPrevented)return s?.(t)}}var F=A[" useInsertionEffect ".trim().toString()]||_;function L({prop:e,defaultProp:s,onChange:o=()=>{},caller:r}){const[t,a,c]=B({defaultProp:s,onChange:o}),l=e!==void 0,p=l?e:t;{const i=n.useRef(e!==void 0);n.useEffect(()=>{const d=i.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),i.current=l},[l,r])}const f=n.useCallback(i=>{if(l){const d=G(i)?i(e):i;d!==e&&c.current?.(d)}else a(i)},[l,e,a,c]);return[p,f]}function B({defaultProp:e,onChange:s}){const[o,r]=n.useState(e),t=n.useRef(o),a=n.useRef(s);return F(()=>{a.current=s},[s]),n.useEffect(()=>{t.current!==o&&(a.current?.(o),t.current=o)},[o,t]),[o,r,a]}function G(e){return typeof e=="function"}var b="Collapsible",[U]=T(b),[q,x]=U(b),I=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,open:r,defaultOpen:t,disabled:a,onOpenChange:c,...l}=e,[p,f]=L({prop:r,defaultProp:t??!1,onChange:c,caller:b});return C.jsx(q,{scope:o,disabled:a,contentId:$(),open:p,onOpenToggle:n.useCallback(()=>f(i=>!i),[f]),children:C.jsx(h.div,{"data-state":E(p),"data-disabled":a?"":void 0,...l,ref:s})})});I.displayName=b;var O="CollapsibleTrigger",S=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,...r}=e,t=x(O,o);return C.jsx(h.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":E(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...r,ref:s,onClick:k(e.onClick,t.onOpenToggle)})});S.displayName=O;var y="CollapsibleContent",j=n.forwardRef((e,s)=>{const{forceMount:o,...r}=e,t=x(y,e.__scopeCollapsible);return C.jsx(D,{present:o||t.open,children:({present:a})=>C.jsx(H,{...r,ref:s,present:a})})});j.displayName=y;var H=n.forwardRef((e,s)=>{const{__scopeCollapsible:o,present:r,children:t,...a}=e,c=x(y,o),[l,p]=n.useState(r),f=n.useRef(null),i=M(s,f),d=n.useRef(0),v=d.current,R=n.useRef(0),P=R.current,g=c.open||l,w=n.useRef(g),m=n.useRef(void 0);return n.useEffect(()=>{const u=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(u)},[]),_(()=>{const u=f.current;if(u){m.current=m.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const N=u.getBoundingClientRect();d.current=N.height,R.current=N.width,w.current||(u.style.transitionDuration=m.current.transitionDuration,u.style.animationName=m.current.animationName),p(r)}},[c.open,r]),C.jsx(h.div,{"data-state":E(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...a,ref:i,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":P?`${P}px`:void 0,...e.style},children:g&&t})});function E(e){return e?"open":"closed"}var V=I;const K=V,Q=S,W=j;export{K as C,Q as a,W as b};
