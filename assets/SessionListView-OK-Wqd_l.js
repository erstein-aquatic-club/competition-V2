import{c as f,C as v,a as g,I as y,B as q,S as c,q as L}from"./index-DzIGNi6W.js";import{j as e}from"./vendor-ui-DJQMR4VV.js";import{C as R}from"./chevron-up-DlyniYlU.js";import{P as I,A as k,a as A,b as C,c as D,d as S,e as _,f as M,g as F}from"./alert-dialog-imDRaG55.js";import{C as $}from"./chevron-left-2t_4KQkd.js";import{S as V}from"./save-BoVqN_zl.js";import{C as z}from"./circle-alert-CW0h1EDJ.js";import{T as H}from"./trash-2-CfMJ5g6h.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],B=f("archive",T);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],te=f("arrow-down",E);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],re=f("arrow-up",O);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]],U=f("folder-input",P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],J=f("pencil",G);function ae({name:x,onNameChange:u,estimatedDuration:l,onEstimatedDurationChange:o,totalDistance:n,showDuration:p=!0,showTotalDistance:N=!0,additionalFields:m,collapsible:r=!1,collapsed:i=!1,onToggleCollapse:h,collapsedSummary:a}){return e.jsx(v,{className:"rounded-2xl border-border",children:e.jsxs("div",{className:"space-y-3 p-4",children:[e.jsxs("button",{type:"button",className:g("flex w-full items-center justify-between text-left",r&&"cursor-pointer"),onClick:r?h:void 0,disabled:!r,children:[e.jsx("div",{className:"text-sm font-semibold",children:"Infos séance"}),r&&e.jsx(R,{className:g("h-4 w-4 text-muted-foreground transition-transform",!i&&"rotate-180")})]}),r&&i&&a&&e.jsx("div",{className:"pt-1",children:a}),(!r||!i)&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Nom"}),e.jsx("div",{className:"mt-1",children:e.jsx(y,{value:x,onChange:t=>u(t.target.value),placeholder:"Nom de la séance",className:"rounded-2xl"})})]}),p&&o&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Durée estimée (min)"}),e.jsx("div",{className:"mt-1",children:e.jsx(y,{type:"number",min:0,value:l||"",onChange:t=>o(t.target.value===""?0:Number(t.target.value)),placeholder:"55",className:"rounded-2xl"})})]}),N&&n!==void 0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:"Distance totale"}),e.jsxs("div",{className:"mt-1 rounded-2xl border border-border bg-muted px-3 py-2 text-sm font-semibold",children:[n,"m"]})]}),m]})]})})}function le({isEditing:x,isSaving:u,onSave:l,onCancel:o,onPreview:n,onDelete:p,canDelete:N=!0,deleteDialogTitle:m="Supprimer ?",deleteDialogDescription:r="Cette action est définitive.",archiveDialogTitle:i="Archiver ?",archiveDialogDescription:h="L'élément sera masqué.",pendingArchive:a,onArchiveConfirm:t,onArchiveCancel:s,pendingDelete:d,onDeleteConfirm:j,onDeleteCancel:w}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Retour",children:e.jsx($,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-base font-semibold",children:"Édition"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx("button",{type:"button",onClick:n,className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu nageur",title:"Aperçu nageur",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs(q,{variant:"default",size:"sm",onClick:l,disabled:u,className:"h-10 rounded-full",children:[e.jsx(V,{className:"h-4 w-4"})," Sauver"]})]})]}),a!==void 0&&t&&s&&e.jsx(k,{open:a,onOpenChange:b=>!b&&s(),children:e.jsxs(A,{children:[e.jsxs(C,{children:[e.jsx(D,{children:i}),e.jsx(S,{children:h})]}),e.jsxs(_,{children:[e.jsx(M,{children:"Annuler"}),e.jsx(F,{onClick:t,children:"Archiver"})]})]})}),d!==void 0&&j&&w&&e.jsx(k,{open:d,onOpenChange:b=>!b&&w(),children:e.jsxs(A,{children:[e.jsxs(C,{children:[e.jsx(D,{children:m}),e.jsx(S,{children:r})]}),e.jsxs(_,{children:[e.jsx(M,{children:"Annuler"}),e.jsx(F,{onClick:j,children:"Supprimer"})]})]})})]})}function ne({sessions:x,isLoading:u,error:l,renderTitle:o,renderMetrics:n,onPreview:p,onEdit:N,onArchive:m,onDelete:r,canDelete:i,isDeleting:h,onMove:a,archiveMode:t="archive"}){return u?e.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((s,d)=>e.jsx(v,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{className:"h-5 w-3/4 mb-2"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-16"}),e.jsx(c,{className:"h-4 w-16"}),e.jsx(c,{className:"h-4 w-12"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-9 w-9 rounded-full"}),e.jsx(c,{className:"h-9 w-9 rounded-full"}),e.jsx(c,{className:"h-9 w-9 rounded-full"})]})]})})},`skeleton-${d}`))}):l?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(z,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"font-semibold",children:"Impossible de charger les données"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:l instanceof Error?l.message:"Une erreur s'est produite"})]}):x.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-border bg-muted px-3 py-6 text-center text-sm text-muted-foreground",children:"Aucune séance trouvée. Crée une nouvelle séance pour commencer."}):e.jsx("div",{className:"space-y-3",children:x.map(s=>{const d=i(s.id),j=!d||h;return e.jsx(v,{className:"rounded-2xl border-border",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-base font-semibold tracking-tight truncate",children:o(s)}),e.jsx("div",{className:"mt-1 flex items-center gap-2 text-xs text-muted-foreground",children:n(s)})]}),e.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>p(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Aperçu",title:"Aperçu",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>N(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Modifier",title:"Modifier",children:e.jsx(J,{className:"h-4 w-4"})}),a&&e.jsx("button",{type:"button",onClick:()=>a(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":"Déplacer",title:"Déplacer dans un dossier",children:e.jsx(U,{className:"h-4 w-4"})}),m&&e.jsx("button",{type:"button",onClick:()=>m(s),className:"inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted","aria-label":t==="restore"?"Restaurer":"Archiver",title:t==="restore"?"Restaurer":"Archiver",children:t==="restore"?e.jsx(L,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>{j||r(s)},className:g("inline-flex h-9 w-9 items-center justify-center rounded-full hover:bg-muted",j&&"cursor-not-allowed text-muted-foreground"),"aria-label":"Supprimer",title:d?"Supprimer":"Suppression indisponible",children:e.jsx(H,{className:"h-4 w-4"})})]})]})})},s.id)})})}export{re as A,le as F,ae as S,te as a,ne as b,B as c};
