import{r as g,u as T,d as C,j as e}from"./vendor-query-DyA9aSKS.js";import{b as fe,d as E,P as $,L as _,I as pe,B as _e,a0 as k,X as ge,$ as Re,a as Fe,l as De}from"./index-BnsSVa73.js";import{a as v}from"./api-qDVaGRDA.js";import{T as Ee,a as $e,b as A,c as q}from"./tabs-Dx7c8430.js";import{B as Me}from"./badge-C5iCT4qD.js";import{s as Ae,S as qe,e as D,F as Le}from"./objectiveHelpers-DC7i01Ud.js";import{S as L,a as K,b as P,c as Q,d as I}from"./sheet-BwdZaRzC.js";import{S as Ke,a as Pe,b as Qe,c as Ie,d as Oe}from"./select-KxnQ8SVy.js";import{A as Y,a as U,b as X,c as G,d as W,e as Z,f as ee,g as te,h as ve}from"./alert-dialog-DGWfDLFN.js";import{T as Be}from"./textarea-CZUVRmD6.js";import{T as V}from"./trophy-Cvqfm5OP.js";import{C as se}from"./clock-D5RzdZkY.js";import{P as He}from"./pencil-CNS3Jqw8.js";import{T as re}from"./trash-2-BQNtXcSe.js";import{C as ze}from"./checkbox-Be1A-Suu.js";import{R as ae}from"./repeat-DU3dFNlN.js";import{A as he}from"./arrow-left-iG8h7Vj6.js";import{M as Je}from"./map-pin-Df3hM8o9.js";import{T as Ve}from"./timer-BcNPzq8z.js";import"./vendor-react-BzrpNAyj.js";import"./vendor-charts-BrQ8X25f.js";import"./vendor-supabase-DFPLkPj_.js";import"./vendor-motion-lao-Njgm.js";import"./swim-PRbalu5T.js";import"./index-6HAzLn1A.js";import"./index-CzIfaFpG.js";import"./index-MGqTWQYl.js";import"./index-BK6XozKS.js";import"./index-DCX2sNhR.js";import"./chevron-down-BD0bKDKk.js";import"./check-eeOlFj6f.js";import"./chevron-up-CYNX1Mme.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],je=fe("list-checks",Ye);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],be=fe("star",Ue),Xe=["A","B","C","D"];function Ge(t,a){const c=[],i=new Date(t+"T00:00:00"),b=a?new Date(a+"T00:00:00"):i;for(;i<=b;){const u=i.getFullYear(),n=String(i.getMonth()+1).padStart(2,"0"),x=String(i.getDate()).padStart(2,"0");c.push(`${u}-${n}-${x}`),i.setDate(i.getDate()+1)}return c}function H(t){return new Date(t+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}function We(t){const[a,c]=t.split(":");return`${a}h${c}`}function z(t){return t.race_type==="finale"?t.final_letter?`Finale ${t.final_letter}`:"Finale":null}function Ze({competitionId:t,competitionDate:a,competitionEndDate:c}){const{toast:i}=E(),[b,u]=g.useState(!1),[n,x]=g.useState(null),[f,y]=g.useState(null),[j,w]=g.useState(""),[s,l]=g.useState(a),[d,p]=g.useState(""),[m,N]=g.useState(""),[o,h]=g.useState("series"),[S,R]=g.useState(""),[O,M]=g.useState(""),ye=Ge(a,c),{data:ne=[],isLoading:Ne}=T({queryKey:["competition-races",t],queryFn:()=>v.getCompetitionRaces(t)}),B=()=>k.invalidateQueries({queryKey:["competition-races",t]}),ie=C({mutationFn:r=>v.createCompetitionRace(r),onSuccess:()=>{B(),i({title:"Course ajoutée"}),ce()},onError:r=>i({title:"Erreur",description:r.message,variant:"destructive"})}),le=C({mutationFn:({id:r,input:F})=>v.updateCompetitionRace(r,F),onSuccess:()=>{B(),i({title:"Course modifiée"}),ce()},onError:r=>i({title:"Erreur",description:r.message,variant:"destructive"})}),oe=C({mutationFn:r=>v.deleteCompetitionRace(r),onSuccess:()=>{B(),i({title:"Course supprimée"}),y(null)},onError:r=>i({title:"Erreur",description:r.message,variant:"destructive"})});function we(){w(""),l(a),p(""),N(""),h("series"),R(""),M("")}function de(){x(null),we(),u(!0)}function ke(r){x(r),w(r.event_code),l(r.race_day),p(r.start_time??""),N(r.notes??""),h(r.race_type||"series"),R(r.final_letter??""),M(r.lane!=null?String(r.lane):""),u(!0)}function Ce(r){x(null),w(r.event_code),l(r.race_day),p(""),N(""),h("finale"),R("A"),M(""),u(!0)}function ce(){u(!1),x(null)}function Se(){if(!j)return;const r={competition_id:t,event_code:j,race_day:s,start_time:d||null,notes:m.trim()||null,race_type:o,final_letter:o==="finale"&&S?S:null,lane:O?parseInt(O,10):null};n?le.mutate({id:n.id,input:r}):ie.mutate(r)}const ue=ie.isPending||le.isPending;return Ne?e.jsx("div",{className:"space-y-3",children:[1,2].map(r=>e.jsx("div",{className:"h-20 rounded-2xl bg-muted/40 animate-pulse"},r))}):e.jsxs(e.Fragment,{children:[ne.length===0?e.jsxs("button",{type:"button",onClick:de,className:"w-full rounded-3xl border-2 border-dashed border-amber-300/50 bg-amber-500/5 p-6 text-center transition hover:border-amber-400/70 hover:bg-amber-500/10",children:[e.jsx(V,{className:"mx-auto h-8 w-8 text-amber-500/60"}),e.jsx("p",{className:"mt-3 text-sm font-semibold text-foreground",children:"Ajoute tes courses"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Configure tes épreuves pour cette compétition"})]}):e.jsxs("div",{className:"space-y-2.5",children:[ne.map(r=>{const F=r.race_type==="finale",me=Ae(r.event_code),Te=me?qe[me]:"border-l-amber-500",xe=z(r);return e.jsxs("div",{className:`rounded-2xl border px-3 py-3 border-l-[3px] ${F?"border-l-yellow-500 border-yellow-500/40 bg-gradient-to-r from-yellow-500/[0.07] to-amber-500/[0.03]":`bg-card ${Te}`}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[F&&e.jsx(be,{className:"h-3.5 w-3.5 shrink-0 fill-yellow-500 text-yellow-500"}),e.jsx("p",{className:"text-sm font-semibold truncate",children:D(r.event_code)}),xe&&e.jsx("span",{className:`shrink-0 rounded-md px-1.5 py-0.5 text-[10px] font-bold ${F?"bg-yellow-500/15 text-yellow-700 dark:text-yellow-300":"bg-orange-500/10 text-orange-600 dark:text-orange-400"}`,children:xe})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:H(r.race_day)}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),r.start_time?We(r.start_time):"Heure à définir"]}),r.lane!=null&&e.jsxs("span",{children:["Ligne ",r.lane]})]}),r.notes&&e.jsx("p",{className:"mt-1.5 text-xs text-muted-foreground/80 line-clamp-1",children:r.notes})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>ke(r),className:"h-8 w-8 flex items-center justify-center rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted transition","aria-label":"Modifier",children:e.jsx(He,{className:"h-3.5 w-3.5"})}),e.jsx("button",{type:"button",onClick:()=>y(r),className:"h-8 w-8 flex items-center justify-center rounded-lg text-muted-foreground hover:text-red-500 hover:bg-red-500/10 transition","aria-label":"Supprimer",children:e.jsx(re,{className:"h-3.5 w-3.5"})})]})]}),!F&&e.jsxs("button",{type:"button",onClick:()=>Ce(r),className:"mt-2 flex w-full items-center justify-center gap-1.5 rounded-xl border border-yellow-500/30 bg-yellow-500/[0.06] py-1.5 text-[11px] font-semibold text-yellow-700 dark:text-yellow-300 transition hover:bg-yellow-500/15 hover:border-yellow-500/50 active:scale-[0.98]",children:[e.jsx(be,{className:"h-3 w-3 fill-yellow-500 text-yellow-500"}),"Qualifié en finale"]})]},r.id)}),e.jsxs("button",{type:"button",onClick:de,className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-dashed border-amber-300/50 bg-amber-500/5 px-3 py-3 text-xs font-medium text-amber-600 dark:text-amber-400 transition hover:border-amber-400/70 hover:bg-amber-500/10",children:[e.jsx($,{className:"h-4 w-4"}),"Ajouter une course"]})]}),e.jsx(L,{open:b,onOpenChange:u,children:e.jsxs(K,{side:"right",className:"w-full sm:max-w-md overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(Q,{children:n?"Modifier la course":"Ajouter une course"}),e.jsx(I,{children:n?"Modifie les détails de cette épreuve.":"Choisis ton épreuve et renseigne les détails."})]}),e.jsxs("div",{className:"mt-6 space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Épreuve"}),e.jsxs(Ke,{value:j,onValueChange:w,children:[e.jsx(Pe,{className:"rounded-xl",children:e.jsx(Qe,{placeholder:"Choisis une épreuve"})}),e.jsx(Ie,{children:Le.map(r=>e.jsx(Oe,{value:r,children:D(r)},r))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>h("series"),className:`flex-1 rounded-xl border px-3 py-2 text-sm font-medium transition ${o==="series"?"border-amber-500 bg-amber-500/10 text-amber-700 dark:text-amber-300":"border-border bg-card text-muted-foreground hover:bg-muted"}`,children:"Série"}),e.jsx("button",{type:"button",onClick:()=>h("finale"),className:`flex-1 rounded-xl border px-3 py-2 text-sm font-medium transition ${o==="finale"?"border-orange-500 bg-orange-500/10 text-orange-700 dark:text-orange-300":"border-border bg-card text-muted-foreground hover:bg-muted"}`,children:"Finale"})]})]}),o==="finale"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Lettre de finale"}),e.jsx("div",{className:"flex gap-2",children:Xe.map(r=>e.jsx("button",{type:"button",onClick:()=>R(r),className:`h-10 w-10 rounded-xl border text-sm font-semibold transition ${S===r?"border-orange-500 bg-orange-500/10 text-orange-700 dark:text-orange-300":"border-border bg-card text-muted-foreground hover:bg-muted"}`,children:r},r))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Jour"}),e.jsx("select",{value:s,onChange:r=>l(r.target.value),className:"flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:ye.map(r=>e.jsx("option",{value:r,children:H(r)},r))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Heure de passage"}),e.jsx(pe,{type:"time",value:d,onChange:r=>p(r.target.value),className:"rounded-xl",placeholder:"Ex : 14:30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Ligne"}),e.jsx(pe,{type:"number",min:1,max:10,value:O,onChange:r=>M(r.target.value),className:"rounded-xl",placeholder:"Ex : 4"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:"Notes"}),e.jsx(Be,{value:m,onChange:r=>N(r.target.value),className:"rounded-xl resize-none",rows:3,placeholder:"Remarques..."})]}),e.jsx(_e,{onClick:Se,disabled:!j||ue,className:"w-full rounded-xl bg-amber-500 hover:bg-amber-600 text-white",children:ue?"Enregistrement...":n?"Enregistrer":"Ajouter"})]})]})}),e.jsx(Y,{open:!!f,onOpenChange:r=>!r&&y(null),children:e.jsxs(U,{children:[e.jsxs(X,{children:[e.jsx(G,{children:"Supprimer cette course ?"}),e.jsx(W,{children:f&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:D(f.event_code)})," ",z(f)&&`(${z(f)}) `,"du ",H(f.race_day)," sera supprimée. Cette action est irréversible."]})})]}),e.jsxs(Z,{children:[e.jsx(ee,{children:"Annuler"}),e.jsx(te,{onClick:()=>f&&oe.mutate(f.id),className:"bg-red-500 hover:bg-red-600 text-white",children:oe.isPending?"Suppression...":"Supprimer"})]})]})})]})}function et({competitionId:t}){const{toast:a}=E(),[c,i]=g.useState(!1),{data:b,isLoading:u}=T({queryKey:["competition-checklist",t],queryFn:()=>v.getCompetitionChecklist(t)}),{data:n=[],isLoading:x}=T({queryKey:["checklist-templates"],queryFn:()=>v.getChecklistTemplates()}),f=C({mutationFn:s=>v.applyChecklistTemplate(t,s),onSuccess:()=>{k.invalidateQueries({queryKey:["competition-checklist",t]}),a({title:"Checklist appliquee"})},onError:()=>a({title:"Erreur",description:"Impossible d'appliquer la checklist",variant:"destructive"})}),y=C({mutationFn:({checkId:s,checked:l})=>v.toggleChecklistCheck(s,l),onMutate:async({checkId:s,checked:l})=>{await k.cancelQueries({queryKey:["competition-checklist",t]});const d=k.getQueryData(["competition-checklist",t]);return d&&k.setQueryData(["competition-checklist",t],{...d,checks:d.checks.map(p=>p.id===s?{...p,checked:l,checked_at:l?new Date().toISOString():null}:p)}),{prev:d}},onError:(s,l,d)=>{d?.prev&&k.setQueryData(["competition-checklist",t],d.prev),a({title:"Erreur",variant:"destructive"})},onSettled:()=>k.invalidateQueries({queryKey:["competition-checklist",t]})}),j=C({mutationFn:s=>v.removeCompetitionChecklist(s),onSuccess:()=>{k.invalidateQueries({queryKey:["competition-checklist",t]}),a({title:"Checklist retirée"})},onError:()=>a({title:"Erreur",variant:"destructive"})}),w=C({mutationFn:s=>v.deleteChecklistTemplate(s),onSuccess:()=>{k.invalidateQueries({queryKey:["checklist-templates"]}),a({title:"Template supprime"})},onError:()=>a({title:"Erreur",variant:"destructive"})});if(u||x)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-violet-500 border-t-transparent"})});if(b){const l=n.find(h=>h.id===b.checklist.checklist_template_id)?.items??[],d=b.checks,p=d.length,m=d.filter(h=>h.checked).length,N=p>0?Math.round(m/p*100):0,o=new Map;for(const h of d)o.set(h.checklist_item_id,h);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-foreground",children:[m,"/",p]}),e.jsxs("span",{className:"text-muted-foreground",children:[N,"%"]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-muted/30 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-violet-500 transition-all duration-300",style:{width:`${N}%`}})})]}),e.jsx("div",{className:"space-y-2",children:l.map(h=>{const S=o.get(h.id);return S?e.jsxs("label",{className:"flex items-center gap-3 rounded-2xl border bg-card px-3 py-2.5 cursor-pointer active:scale-[0.98] transition-transform",children:[e.jsx(ze,{checked:S.checked,onCheckedChange:R=>y.mutate({checkId:S.id,checked:!!R}),className:"data-[state=checked]:bg-violet-500 data-[state=checked]:border-violet-500"}),e.jsx("span",{className:S.checked?"text-sm text-muted-foreground line-through":"text-sm text-foreground",children:h.label})]},S.id):null})}),e.jsx("button",{type:"button",onClick:()=>j.mutate(b.checklist.id),disabled:j.isPending,className:"w-full text-center text-xs text-muted-foreground hover:text-foreground transition py-1",children:"Changer de checklist"})]})}return e.jsxs("div",{className:"space-y-4",children:[n.length===0?e.jsxs("div",{className:"rounded-3xl border border-dashed border-border bg-card/60 p-6 text-center",children:[e.jsx(je,{className:"mx-auto h-8 w-8 text-muted-foreground/40"}),e.jsx("p",{className:"mt-3 text-sm font-medium",children:"Aucun template"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Cree ton premier template de checklist"})]}):e.jsx("div",{className:"space-y-2",children:n.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-card px-3 py-2.5",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.items?.length??0," items"]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>f.mutate(s.id),disabled:f.isPending,className:"rounded-xl bg-violet-500/10 px-3 py-1.5 text-xs font-medium text-violet-700 dark:text-violet-300 hover:bg-violet-500/20 transition",children:"Appliquer"}),e.jsx(st,{templateId:s.id,onConfirm:()=>w.mutate(s.id)})]})]},s.id))}),e.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-dashed border-violet-500/30 bg-violet-500/5 px-3 py-3 text-xs font-medium text-violet-700 dark:text-violet-300 hover:bg-violet-500/10 transition",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Creer un template"]}),e.jsx(tt,{open:c,onOpenChange:i})]})}function tt({open:t,onOpenChange:a}){const{toast:c}=E(),[i,b]=g.useState(""),[u,n]=g.useState([""]),x=C({mutationFn:({n:s,its:l})=>v.createChecklistTemplate(s,l),onSuccess:()=>{k.invalidateQueries({queryKey:["checklist-templates"]}),c({title:"Template cree"}),b(""),n([""]),a(!1)},onError:()=>c({title:"Erreur",variant:"destructive"})});function f(){n(s=>[...s,""])}function y(s){n(l=>l.filter((d,p)=>p!==s))}function j(s,l){n(d=>d.map((p,m)=>m===s?l:p))}function w(){const s=i.trim();if(!s)return;const l=u.map(d=>d.trim()).filter(Boolean).map((d,p)=>({label:d,sort_order:p}));x.mutate({n:s,its:l})}return e.jsx(L,{open:t,onOpenChange:a,children:e.jsxs(K,{side:"right",className:"flex flex-col overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(Q,{children:"Nouveau template"}),e.jsx(I,{children:"Cree une checklist réutilisable pour tes compétitions."})]}),e.jsxs("div",{className:"mt-4 flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Nom"}),e.jsx("input",{type:"text",value:i,onChange:s=>b(s.target.value),placeholder:"Ex : Sac de compet",className:"w-full rounded-xl border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-violet-500/40"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Items"}),e.jsx("div",{className:"space-y-2",children:u.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:d=>j(l,d.target.value),placeholder:`Item ${l+1}`,className:"flex-1 rounded-xl border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-violet-500/40"}),u.length>1&&e.jsx("button",{type:"button",onClick:()=>y(l),className:"h-8 w-8 rounded-lg flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition",children:e.jsx(ge,{className:"h-3.5 w-3.5"})})]},l))}),e.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-1.5 text-xs text-violet-600 dark:text-violet-400 hover:underline mt-1",children:[e.jsx($,{className:"h-3 w-3"}),"Ajouter un item"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("button",{type:"button",onClick:w,disabled:!i.trim()||x.isPending,className:"w-full rounded-xl bg-violet-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-violet-600 disabled:opacity-50 transition",children:x.isPending?"Sauvegarde...":"Sauvegarder"})})]})})}function st({templateId:t,onConfirm:a}){return e.jsxs(Y,{children:[e.jsx(ve,{asChild:!0,children:e.jsx("button",{type:"button",className:"h-8 w-8 rounded-lg flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition",children:e.jsx(re,{className:"h-3.5 w-3.5"})})}),e.jsxs(U,{children:[e.jsxs(X,{children:[e.jsx(G,{children:"Supprimer le template ?"}),e.jsx(W,{children:"Cette action est irréversible. Le template et ses items seront définitivement supprimés."})]}),e.jsxs(Z,{children:[e.jsx(ee,{children:"Annuler"}),e.jsx(te,{onClick:a,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})}function rt(t){return new Date(t+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"})}function at(t){const[a,c]=t.split(":");return`${a}h${c}`}function nt(t){return t===0?"0min":`${t<0?"-":"+"}${Math.abs(t)}min`}function it({competitionId:t}){const{toast:a}=E(),[c,i]=g.useState(null),[b,u]=g.useState(!1),{data:n=[],isLoading:x}=T({queryKey:["competition-races",t],queryFn:()=>v.getCompetitionRaces(t)}),{data:f=[],isLoading:y}=T({queryKey:["race-routines",t],queryFn:()=>v.getRaceRoutines(t)}),{data:j=[],isLoading:w}=T({queryKey:["routine-templates"],queryFn:()=>v.getRoutineTemplates()}),s=g.useMemo(()=>{const o=new Map;for(const h of f)o.set(h.race_id,h.routine_id);return o},[f]),l=g.useMemo(()=>{const o=new Map;for(const h of j)o.set(h.id,h);return o},[j]),d=()=>{k.invalidateQueries({queryKey:["race-routines",t]}),k.invalidateQueries({queryKey:["routine-templates"]})},p=C({mutationFn:({raceId:o,routineId:h})=>v.setRaceRoutine(o,h),onSuccess:()=>{d(),a({title:"Routine assignee"}),i(null)},onError:o=>a({title:"Erreur",description:o.message,variant:"destructive"})}),m=C({mutationFn:o=>v.removeRaceRoutine(o),onSuccess:()=>{d(),a({title:"Routine retiree"})},onError:o=>a({title:"Erreur",description:o.message,variant:"destructive"})}),N=C({mutationFn:o=>v.deleteRoutineTemplate(o),onSuccess:()=>{k.invalidateQueries({queryKey:["routine-templates"]}),k.invalidateQueries({queryKey:["race-routines",t]}),a({title:"Template supprime"})},onError:()=>a({title:"Erreur",variant:"destructive"})});return x||y||w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"})}):n.length===0?e.jsxs("div",{className:"rounded-3xl border border-dashed border-border bg-card/60 p-6 text-center",children:[e.jsx(ae,{className:"mx-auto h-8 w-8 text-muted-foreground/40"}),e.jsx("p",{className:"mt-3 text-sm font-medium",children:"Aucune course"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Ajoute d'abord des courses dans l'onglet Courses"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[n.map(o=>{const h=s.get(o.id),S=h?l.get(h):null;return e.jsx(lt,{race:o,template:S??null,onAssign:()=>i(o.id),onChange:()=>i(o.id),onRemove:()=>m.mutate(o.id),removing:m.isPending},o.id)}),e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-dashed border-blue-500/30 bg-blue-500/5 px-3 py-3 text-xs font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-500/10 transition",children:[e.jsx($,{className:"h-3.5 w-3.5"}),"Creer un template de routine"]})]}),e.jsx(L,{open:!!c,onOpenChange:o=>!o&&i(null),children:e.jsxs(K,{side:"right",className:"flex flex-col overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(Q,{children:"Choisir une routine"}),e.jsx(I,{children:"Selectionne un template de routine pour cette course."})]}),e.jsx("div",{className:"mt-4 flex-1 space-y-2",children:j.length===0?e.jsxs("div",{className:"rounded-2xl border border-dashed border-border bg-muted/30 p-4 text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun template disponible"}),e.jsx("button",{type:"button",onClick:()=>{i(null),u(!0)},className:"mt-2 text-xs font-medium text-blue-600 dark:text-blue-400 hover:underline",children:"Creer un template"})]}):j.map(o=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border bg-card px-3 py-2.5",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:o.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.steps?.length??0," etape",(o.steps?.length??0)!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>{c&&p.mutate({raceId:c,routineId:o.id})},disabled:p.isPending,className:"rounded-xl bg-blue-500/10 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-500/20 transition",children:"Appliquer"}),e.jsx(dt,{onConfirm:()=>N.mutate(o.id)})]})]},o.id))})]})}),e.jsx(ot,{open:b,onOpenChange:u})]})}function lt({race:t,template:a,onAssign:c,onChange:i,onRemove:b,removing:u}){const n=a?.steps??[];return e.jsxs("div",{className:"rounded-2xl border bg-card overflow-hidden",children:[e.jsx("div",{className:"border-b border-border/60 px-3 py-2.5",children:e.jsx("div",{className:"flex items-center justify-between gap-2",children:e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold truncate",children:D(t.event_code)}),t.race_type==="finale"&&e.jsx("span",{className:"shrink-0 rounded-md bg-orange-500/10 px-1.5 py-0.5 text-[10px] font-semibold text-orange-600 dark:text-orange-400",children:t.final_letter?`Finale ${t.final_letter}`:"Finale"})]}),e.jsxs("div",{className:"mt-0.5 flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:rt(t.race_day)}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),t.start_time?at(t.start_time):"Heure à définir"]})]})]})})}),e.jsx("div",{className:"px-3 py-2.5",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(ae,{className:"h-3.5 w-3.5 text-blue-500 shrink-0"}),e.jsx("span",{className:"text-sm font-medium truncate",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[e.jsx("button",{type:"button",onClick:i,className:"rounded-lg bg-blue-500/10 px-2 py-1 text-[11px] font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-500/20 transition",children:"Changer"}),e.jsx("button",{type:"button",onClick:b,disabled:u,className:"rounded-lg bg-red-500/10 px-2 py-1 text-[11px] font-medium text-red-600 dark:text-red-400 hover:bg-red-500/20 transition",children:"Retirer"})]})]}),n.length>0&&e.jsx("div",{className:"mt-2.5 space-y-1.5",children:n.map(x=>e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("span",{className:"rounded-lg bg-blue-500/10 text-blue-600 dark:text-blue-400 px-2 py-0.5 text-[11px] font-mono shrink-0",children:nt(x.offset_minutes)}),e.jsx("span",{className:"text-xs text-foreground",children:x.label})]},x.id))})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Aucune routine"}),e.jsx("button",{type:"button",onClick:c,className:"rounded-xl bg-blue-500/10 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 hover:bg-blue-500/20 transition",children:"Assigner"})]})})]})}function ot({open:t,onOpenChange:a}){const{toast:c}=E(),[i,b]=g.useState(""),[u,n]=g.useState([{offset:"-60",label:""}]),x=C({mutationFn:({n:s,s:l})=>v.createRoutineTemplate(s,l),onSuccess:()=>{k.invalidateQueries({queryKey:["routine-templates"]}),c({title:"Template cree"}),b(""),n([{offset:"-60",label:""}]),a(!1)},onError:()=>c({title:"Erreur",variant:"destructive"})});function f(){n(s=>[...s,{offset:"-30",label:""}])}function y(s){n(l=>l.filter((d,p)=>p!==s))}function j(s,l,d){n(p=>p.map((m,N)=>N===s?{...m,[l]:d}:m))}function w(){const s=i.trim();if(!s)return;const l=u.filter(d=>d.label.trim()).map((d,p)=>({offset_minutes:parseInt(d.offset,10)||0,label:d.label.trim(),sort_order:p}));x.mutate({n:s,s:l})}return e.jsx(L,{open:t,onOpenChange:a,children:e.jsxs(K,{side:"right",className:"flex flex-col overflow-y-auto",children:[e.jsxs(P,{children:[e.jsx(Q,{children:"Nouvelle routine"}),e.jsx(I,{children:"Cree un template de routine pre-course reutilisable."})]}),e.jsxs("div",{className:"mt-4 flex-1 space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Nom"}),e.jsx("input",{type:"text",value:i,onChange:s=>b(s.target.value),placeholder:"Ex : Routine sprint",className:"w-full rounded-xl border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500/40"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Etapes"}),e.jsx("div",{className:"space-y-2",children:u.map((s,l)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative w-20 shrink-0",children:[e.jsx("input",{type:"number",value:s.offset,onChange:d=>j(l,"offset",d.target.value),className:"w-full rounded-xl border bg-background pl-3 pr-8 py-2 text-sm text-center font-mono outline-none focus:ring-2 focus:ring-blue-500/40 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"-60"}),e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none",children:"min"})]}),e.jsx("input",{type:"text",value:s.label,onChange:d=>j(l,"label",d.target.value),placeholder:"Ex : Echauffement sec",className:"flex-1 rounded-xl border bg-background px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500/40"}),u.length>1&&e.jsx("button",{type:"button",onClick:()=>y(l),className:"h-8 w-8 rounded-lg flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition shrink-0",children:e.jsx(ge,{className:"h-3.5 w-3.5"})})]},l))}),e.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-1.5 text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:[e.jsx($,{className:"h-3 w-3"}),"Ajouter une etape"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("button",{type:"button",onClick:w,disabled:!i.trim()||x.isPending,className:"w-full rounded-xl bg-blue-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-blue-600 disabled:opacity-50 transition",children:x.isPending?"Sauvegarde...":"Sauvegarder"})})]})})}function dt({onConfirm:t}){return e.jsxs(Y,{children:[e.jsx(ve,{asChild:!0,children:e.jsx("button",{type:"button",className:"h-8 w-8 rounded-lg flex items-center justify-center text-muted-foreground hover:text-destructive hover:bg-destructive/10 transition",children:e.jsx(re,{className:"h-3.5 w-3.5"})})}),e.jsxs(U,{children:[e.jsxs(X,{children:[e.jsx(G,{children:"Supprimer ce template ?"}),e.jsx(W,{children:"Cette action est irreversible. Le template et ses etapes seront definitivement supprimes."})]}),e.jsxs(Z,{children:[e.jsx(ee,{children:"Annuler"}),e.jsx(te,{onClick:t,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Supprimer"})]})]})]})}function ct(t,a){const[c,i]=t.split(":").map(Number),b=c*60+i+a,u=Math.floor((b%1440+1440)%1440/60),n=(b%1440+1440)%1440%60;return`${String(u).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function ut(t,a){const c=[],i=new Date(t+"T00:00:00"),b=a?new Date(a+"T00:00:00"):i,u=new Date(i);for(;u<=b;){const n=u.getFullYear(),x=String(u.getMonth()+1).padStart(2,"0"),f=String(u.getDate()).padStart(2,"0");c.push(`${n}-${x}-${f}`),u.setDate(u.getDate()+1)}return c}function mt(t){const a=new Date(t+"T00:00:00"),c=a.toLocaleDateString("fr-FR",{weekday:"short"});return`${c.charAt(0).toUpperCase()+c.slice(1)} ${a.getDate()}`}function xt({competitionId:t,competitionDate:a,competitionEndDate:c}){const i=g.useMemo(()=>ut(a,c),[a,c]),b=i.length>1,[u,n]=g.useState(i[0]),{data:x=[]}=T({queryKey:["competition-races",t],queryFn:()=>v.getCompetitionRaces(t)}),{data:f=[]}=T({queryKey:["race-routines",t],queryFn:()=>v.getRaceRoutines(t)}),{data:y=[]}=T({queryKey:["routine-templates"],queryFn:()=>v.getRoutineTemplates()}),{timed:j,untimed:w}=g.useMemo(()=>{const s=x.filter(m=>m.race_day===u),l=new Map;for(const m of f){const N=y.find(o=>o.id===m.routine_id);N&&l.set(m.race_id,N)}const d=[],p=[];for(const m of s){if(!m.start_time){p.push(m);continue}const N=m.race_type==="finale"?m.final_letter?` — Finale ${m.final_letter}`:" — Finale":"";d.push({time:m.start_time.slice(0,5),label:D(m.event_code)+N,type:"race",eventCode:m.event_code,isFinale:m.race_type==="finale"});const o=l.get(m.id);if(o?.steps)for(const h of o.steps)d.push({time:ct(m.start_time.slice(0,5),h.offset_minutes),label:h.label,type:"step"})}return d.sort((m,N)=>m.time.localeCompare(N.time)),{timed:d,untimed:p}},[x,f,y,u]);return x.length===0?e.jsxs("div",{className:"rounded-3xl border border-dashed border-border bg-card/60 p-6 text-center",children:[e.jsx(se,{className:"mx-auto h-8 w-8 text-muted-foreground/40"}),e.jsx("p",{className:"mt-3 text-sm font-medium text-muted-foreground",children:"Ajoute des courses et des routines pour voir ta timeline"})]}):e.jsxs("div",{className:"space-y-4",children:[b&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-none",children:i.map(s=>e.jsx("button",{type:"button",onClick:()=>n(s),className:`rounded-full border px-3 py-1.5 text-xs font-medium whitespace-nowrap transition ${s===u?"border-emerald-500 bg-emerald-500/10 text-emerald-700 dark:text-emerald-300":"border-border bg-card text-muted-foreground hover:bg-muted"}`,children:mt(s)},s))}),j.length>0&&e.jsx("div",{className:"relative ml-[44px] border-l-2 border-border",children:j.map((s,l)=>e.jsxs("div",{className:"relative flex items-start pb-4 last:pb-0",children:[e.jsx("span",{className:`absolute -left-[52px] w-[44px] text-right text-xs font-mono tabular-nums leading-5 ${s.isFinale?"font-semibold text-yellow-600 dark:text-yellow-400":"text-muted-foreground"}`,children:s.time}),e.jsx("div",{className:"absolute -left-[5px] top-1.5",children:s.isFinale?e.jsx("div",{className:"h-3 w-3 -ml-[1px] rounded-full bg-yellow-500 ring-2 ring-yellow-500/30"}):s.type==="race"?e.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-amber-500"}):e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-400"})}),e.jsx("div",{className:"pl-4",children:s.isFinale?e.jsxs("span",{className:"text-sm leading-5 font-bold text-yellow-700 dark:text-yellow-300",children:["★ ",s.label]}):e.jsx("span",{className:`text-sm leading-5 ${s.type==="race"?"font-semibold text-foreground":"text-muted-foreground"}`,children:s.label})})]},`${s.time}-${s.label}-${l}`))}),w.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Heure à définir"}),w.map(s=>e.jsxs("div",{className:"flex items-center gap-2.5 rounded-2xl border border-border/60 bg-muted/30 px-3 py-2.5",children:[e.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-amber-500/50 shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:[D(s.event_code),s.race_type==="finale"&&(s.final_letter?` — Finale ${s.final_letter}`:" — Finale")]})]},s.id))]}),j.length===0&&w.length===0&&e.jsx("div",{className:"rounded-3xl border border-dashed border-border bg-card/60 p-6 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucune course ce jour"})})]})}function J(t){return new Date(t+"T00:00:00").toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}function pt(t,a){if(!a||a===t)return J(t);const c=new Date(t+"T00:00:00"),i=new Date(a+"T00:00:00");return c.getMonth()===i.getMonth()&&c.getFullYear()===i.getFullYear()?`${c.getDate()} – ${i.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`:`${J(t)} – ${J(a)}`}function ht(t){const a=new Date;a.setHours(0,0,0,0);const c=new Date(t+"T00:00:00");return Math.round((c.getTime()-a.getTime())/(1e3*60*60*24))}function bt(t){return t<0?{label:"Terminée",variant:"outline"}:t===0?{label:"Aujourd'hui",variant:"default"}:{label:`J-${t}`,variant:"secondary"}}function Ut(){const[,t]=Re("/competition/:id"),[,a]=Fe(),[c,i]=g.useState("courses"),b=t?.id??null,{data:u=[]}=T({queryKey:["competitions"],queryFn:()=>v.getCompetitions()}),n=g.useMemo(()=>u.find(y=>y.id===b)??null,[u,b]),x=n?ht(n.date):null,f=x!=null?bt(x):null;return n?e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"mt-0.5 h-9 w-9 rounded-xl border border-border bg-card flex items-center justify-center hover:bg-muted transition shrink-0","aria-label":"Retour",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-lg font-bold",children:n.name}),f&&e.jsx(Me,{variant:f.variant,className:"text-[10px] px-2 py-0.5 shrink-0",children:f.label})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-3 w-3"}),pt(n.date,n.end_date)]}),n.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),n.location]})]}),n.description&&e.jsx("p",{className:"text-xs text-muted-foreground/80 line-clamp-2",children:n.description})]})]}),e.jsxs(Ee,{value:c,onValueChange:y=>i(y),children:[e.jsxs($e,{className:"grid h-auto w-full grid-cols-4 gap-1.5 bg-transparent p-0",children:[e.jsxs(A,{value:"courses",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-amber-500 data-[state=active]:bg-amber-500/5 data-[state=active]:text-amber-700 dark:data-[state=active]:text-amber-300",children:[e.jsx(V,{className:"mr-1 h-3 w-3"}),"Courses"]}),e.jsxs(A,{value:"routines",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-blue-500 data-[state=active]:bg-blue-500/5 data-[state=active]:text-blue-700 dark:data-[state=active]:text-blue-300",children:[e.jsx(ae,{className:"mr-1 h-3 w-3"}),"Routines"]}),e.jsxs(A,{value:"timeline",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-emerald-500 data-[state=active]:bg-emerald-500/5 data-[state=active]:text-emerald-700 dark:data-[state=active]:text-emerald-300",children:[e.jsx(Ve,{className:"mr-1 h-3 w-3"}),"Jour J"]}),e.jsxs(A,{value:"checklist",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-violet-500 data-[state=active]:bg-violet-500/5 data-[state=active]:text-violet-700 dark:data-[state=active]:text-violet-300",children:[e.jsx(je,{className:"mr-1 h-3 w-3"}),"Check"]})]}),e.jsx(q,{value:"courses",className:"mt-4",children:e.jsx(Ze,{competitionId:n.id,competitionDate:n.date,competitionEndDate:n.end_date})}),e.jsx(q,{value:"routines",className:"mt-4",children:e.jsx(it,{competitionId:n.id})}),e.jsx(q,{value:"timeline",className:"mt-4",children:e.jsx(xt,{competitionId:n.id,competitionDate:n.date,competitionEndDate:n.end_date})}),e.jsx(q,{value:"checklist",className:"mt-4",children:e.jsx(et,{competitionId:n.id})})]})]}):e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>a("/"),className:"h-9 w-9 rounded-xl border border-border bg-card flex items-center justify-center hover:bg-muted transition","aria-label":"Retour",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx(V,{className:"mx-auto h-10 w-10 text-muted-foreground/40"}),e.jsx("p",{className:"mt-3 text-sm font-medium",children:"Compétition introuvable"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Elle a peut-être été supprimée."})]})]})}export{Ut as default};
