import{a as u,t as i}from"./format-B9mPVj_w.js";function f(e,t,n){const r=u(e,n),s=u(t,n);return+r==+s}function m(e,t){const n=i(e),r=i(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}const o=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t},M=e=>{if(!e.end_time)return null;const t=o(e.start_time),n=o(e.end_time);if(!t||!n)return null;const r=(n.getTime()-t.getTime())/6e4;return r<0?null:Math.round(r)},l=e=>e.reduce((t,n)=>{const r=M(n);return r===null||(n.is_travel?t.travelMinutes+=r:t.workMinutes+=r,t.totalMinutes=t.workMinutes+t.travelMinutes),t},{workMinutes:0,travelMinutes:0,totalMinutes:0}),c=(e,t=new Date)=>{const n=e.filter(s=>{const a=o(s.start_time);return a?f(a,t,{weekStartsOn:1}):!1}),r=e.filter(s=>{const a=o(s.start_time);return a?m(a,t):!1});return{week:l(n),month:l(r)}},g=e=>{const t=Math.max(0,Math.round(e)),n=Math.floor(t/60),r=t%60;return`${n}h${String(r).padStart(2,"0")}`};export{c,g as f,M as g};
