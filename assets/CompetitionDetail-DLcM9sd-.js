import{r as b,u as v,j as e}from"./vendor-query-DyA9aSKS.js";import{b as N,$ as y,a as w,l as k}from"./index-BG17NGj_.js";import{a as T}from"./api-pDGM7gcL.js";import{T as C,a as D,b as n,c}from"./tabs-Cmwb8NXu.js";import{B as R}from"./badge-BD6XrWQL.js";import{A as f}from"./arrow-left-C71h0LQi.js";import{T as u}from"./trophy-F1PyAR91.js";import{M}from"./map-pin-CZsLiYx6.js";import{R as g}from"./repeat-B38K-uiq.js";import{T as q}from"./timer-CGR2RyAq.js";import{C as L}from"./clock-C2Uxtwwx.js";import"./vendor-react-BzrpNAyj.js";import"./vendor-charts-BrQ8X25f.js";import"./vendor-supabase-DFPLkPj_.js";import"./vendor-motion-lao-Njgm.js";import"./swim-YhdB8qZt.js";import"./index-BAWJd6TS.js";import"./index-CsNAbxnB.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],j=N("list-checks",S);function x(t){return new Date(t+"T00:00:00").toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}function A(t,a){if(!a||a===t)return x(t);const r=new Date(t+"T00:00:00"),i=new Date(a+"T00:00:00");return r.getMonth()===i.getMonth()&&r.getFullYear()===i.getFullYear()?`${r.getDate()} – ${i.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`:`${x(t)} – ${x(a)}`}function $(t){const a=new Date;a.setHours(0,0,0,0);const r=new Date(t+"T00:00:00");return Math.round((r.getTime()-a.getTime())/(1e3*60*60*24))}function B(t){return t<0?{label:"Terminée",variant:"outline"}:t===0?{label:"Aujourd'hui",variant:"default"}:{label:`J-${t}`,variant:"secondary"}}function l({icon:t,title:a,description:r,items:i}){return e.jsxs("div",{className:"rounded-3xl border border-dashed border-border bg-card/60 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-muted-foreground",children:[t,e.jsx("span",{className:"text-sm font-semibold text-foreground",children:a})]}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground leading-relaxed",children:r}),e.jsx("div",{className:"mt-4 space-y-2",children:i.map(o=>e.jsxs("div",{className:"flex items-center gap-2.5 rounded-2xl border border-border/60 bg-muted/30 px-3 py-2.5",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground/20 shrink-0"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o})]},o))}),e.jsx("div",{className:"mt-4 rounded-xl bg-primary/5 border border-primary/10 px-3 py-2.5 text-center",children:e.jsx("span",{className:"text-[11px] font-medium text-primary",children:"Bientôt disponible"})})]})}function ee(){const[,t]=y("/competition/:id"),[,a]=w(),[r,i]=b.useState("courses"),o=t?.id??null,{data:p=[]}=v({queryKey:["competitions"],queryFn:()=>T.getCompetitions()}),s=b.useMemo(()=>p.find(m=>m.id===o)??null,[p,o]),h=s?$(s.date):null,d=h!=null?B(h):null;return s?e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"mt-0.5 h-9 w-9 rounded-xl border border-border bg-card flex items-center justify-center hover:bg-muted transition shrink-0","aria-label":"Retour",children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1 space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"text-lg font-bold truncate",children:s.name}),d&&e.jsx(R,{variant:d.variant,className:"text-[10px] px-2 py-0.5 shrink-0",children:d.label})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),A(s.date,s.end_date)]}),s.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"h-3 w-3"}),s.location]})]}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground/80 line-clamp-2",children:s.description})]})]}),e.jsxs(C,{value:r,onValueChange:m=>i(m),children:[e.jsxs(D,{className:"grid h-auto w-full grid-cols-4 gap-1.5 bg-transparent p-0",children:[e.jsxs(n,{value:"courses",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-amber-500 data-[state=active]:bg-amber-500/5 data-[state=active]:text-amber-700 dark:data-[state=active]:text-amber-300",children:[e.jsx(u,{className:"mr-1 h-3 w-3"}),"Courses"]}),e.jsxs(n,{value:"routines",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-blue-500 data-[state=active]:bg-blue-500/5 data-[state=active]:text-blue-700 dark:data-[state=active]:text-blue-300",children:[e.jsx(g,{className:"mr-1 h-3 w-3"}),"Routines"]}),e.jsxs(n,{value:"timeline",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-emerald-500 data-[state=active]:bg-emerald-500/5 data-[state=active]:text-emerald-700 dark:data-[state=active]:text-emerald-300",children:[e.jsx(q,{className:"mr-1 h-3 w-3"}),"Jour J"]}),e.jsxs(n,{value:"checklist",className:"rounded-xl border bg-card px-2 py-2 text-[11px] data-[state=active]:border-violet-500 data-[state=active]:bg-violet-500/5 data-[state=active]:text-violet-700 dark:data-[state=active]:text-violet-300",children:[e.jsx(j,{className:"mr-1 h-3 w-3"}),"Check"]})]}),e.jsx(c,{value:"courses",className:"mt-4",children:e.jsx(l,{icon:e.jsx(u,{className:"h-4 w-4 text-amber-500"}),title:"Mes courses",description:"Configure tes épreuves pour cette compétition : nage, distance et heure de passage.",items:["Ajouter une course (ex : 100m NL à 14h30)","Modifier ou supprimer une course","Vue récap de toutes tes épreuves"]})}),e.jsx(c,{value:"routines",className:"mt-4",children:e.jsx(l,{icon:e.jsx(g,{className:"h-4 w-4 text-blue-500"}),title:"Routines pré-course",description:"Définis ta routine avant chaque course : échauffement, combinaison, concentration...",items:["Étapes relatives à l'heure de course (ex : -60min, -20min)","Sauvegarder en template réutilisable","Appliquer un template à une autre course"]})}),e.jsx(c,{value:"timeline",className:"mt-4",children:e.jsx(l,{icon:e.jsx(L,{className:"h-4 w-4 text-emerald-500"}),title:"Timeline du jour",description:"Vue chronologique de ta journée : toutes tes courses et étapes de routine fusionnées par heure.",items:["Sélection du jour (multi-jours)","Heures absolues calculées automatiquement","Rappels visuels pour chaque étape"]})}),e.jsx(c,{value:"checklist",className:"mt-4",children:e.jsx(l,{icon:e.jsx(j,{className:"h-4 w-4 text-violet-500"}),title:"Checklist",description:"Prépare ta compétition avec une liste de vérification personnalisée.",items:["Créer et cocher des items","Sauvegarder en template réutilisable","Barre de progression"]})})]})]}):e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>a("/"),className:"h-9 w-9 rounded-xl border border-border bg-card flex items-center justify-center hover:bg-muted transition","aria-label":"Retour",children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx(u,{className:"mx-auto h-10 w-10 text-muted-foreground/40"}),e.jsx("p",{className:"mt-3 text-sm font-medium",children:"Compétition introuvable"}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Elle a peut-être été supprimée."})]})]})}export{ee as default};
