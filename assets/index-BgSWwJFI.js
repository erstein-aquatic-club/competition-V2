import{r as n,R as A,j as m}from"./vendor-query-BiSH4r2z.js";import{n as _,p as O,P as h,r as D,q as M}from"./index-YeJaZGYP.js";import{u as $}from"./index-BavNxb8U.js";function k(e,r,{checkForDefaultPrevented:o=!0}={}){return function(t){if(e?.(t),o===!1||!t.defaultPrevented)return r?.(t)}}var F=A[" useInsertionEffect ".trim().toString()]||_;function L({prop:e,defaultProp:r,onChange:o=()=>{},caller:s}){const[t,a,c]=q({defaultProp:r,onChange:o}),l=e!==void 0,p=l?e:t;{const i=n.useRef(e!==void 0);n.useEffect(()=>{const d=i.current;d!==l&&console.warn(`${s} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),i.current=l},[l,s])}const f=n.useCallback(i=>{if(l){const d=B(i)?i(e):i;d!==e&&c.current?.(d)}else a(i)},[l,e,a,c]);return[p,f]}function q({defaultProp:e,onChange:r}){const[o,s]=n.useState(e),t=n.useRef(o),a=n.useRef(r);return F(()=>{a.current=r},[r]),n.useEffect(()=>{t.current!==o&&(a.current?.(o),t.current=o)},[o,t]),[o,s,a]}function B(e){return typeof e=="function"}var v="Collapsible",[G,Q]=O(v),[U,x]=G(v),I=n.forwardRef((e,r)=>{const{__scopeCollapsible:o,open:s,defaultOpen:t,disabled:a,onOpenChange:c,...l}=e,[p,f]=L({prop:s,defaultProp:t??!1,onChange:c,caller:v});return m.jsx(U,{scope:o,disabled:a,contentId:$(),open:p,onOpenToggle:n.useCallback(()=>f(i=>!i),[f]),children:m.jsx(h.div,{"data-state":E(p),"data-disabled":a?"":void 0,...l,ref:r})})});I.displayName=v;var S="CollapsibleTrigger",T=n.forwardRef((e,r)=>{const{__scopeCollapsible:o,...s}=e,t=x(S,o);return m.jsx(h.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":E(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...s,ref:r,onClick:k(e.onClick,t.onOpenToggle)})});T.displayName=S;var P="CollapsibleContent",j=n.forwardRef((e,r)=>{const{forceMount:o,...s}=e,t=x(P,e.__scopeCollapsible);return m.jsx(D,{present:o||t.open,children:({present:a})=>m.jsx(H,{...s,ref:r,present:a})})});j.displayName=P;var H=n.forwardRef((e,r)=>{const{__scopeCollapsible:o,present:s,children:t,...a}=e,c=x(P,o),[l,p]=n.useState(s),f=n.useRef(null),i=M(r,f),d=n.useRef(0),b=d.current,R=n.useRef(0),y=R.current,g=c.open||l,N=n.useRef(g),C=n.useRef(void 0);return n.useEffect(()=>{const u=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(u)},[]),_(()=>{const u=f.current;if(u){C.current=C.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const w=u.getBoundingClientRect();d.current=w.height,R.current=w.width,N.current||(u.style.transitionDuration=C.current.transitionDuration,u.style.animationName=C.current.animationName),p(s)}},[c.open,s]),m.jsx(h.div,{"data-state":E(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...a,ref:i,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&t})});function E(e){return e?"open":"closed"}var V=I,W=T,X=j;export{T as C,V as R,W as T,j as a,X as b,Q as c};
